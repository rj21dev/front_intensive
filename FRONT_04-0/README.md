#  Lesson 5.

## Contents

1. [Chapter I](#chapter-i) \
   1.1. [Express](#express) 
2. [Chapter II](#chapter-ii) \
   2.1 [Работа с БД через node.js](#работа-с-бд-через-nodejs) \
   2.2 [Rest API](#rest-api) \
   2.3 [Работа с postman](#работа-с-postman) 



## Chapter I
В этой главе мы рассмотрим создание сервера с помощью фреймворка Express. Подключим базу данных к серверу, рассмотрим архитектурный подход REST api и научимся работать с postman. 
### Express
Express - это фреймворк для Node.js, который реализовывает слой функций, необходимых для создания эффективных приложений и API.
[Express предоставляет следующие механизмы](./materials/Express.md).

## Chapter II

### Работа с БД через node.js

Для подключения базы данных к серверу и работы с ней мы будем использовать Sequelize. \
Sequelize - это популярный ORM, созданный для Node.js. \
Взаимодействие с базами данных - обычная задача для серверных приложений. Обычно это выполнялось с помощью необработанных SQL-запросов, которые может быть сложно построить, особенно для тех, кто плохо знаком с SQL или базами данных в целом.
В конце концов, появились объектно-реляционные сопоставители (ORM), призванные упростить управление базами данных. Они автоматически отображают объекты (сущности) из нашего кода в реляционной базе данных, как следует из названия.

Пример связки [sequelize + express](https://github.com/sequelize/express-example/tree/master/express-main-example/express)

### Rest API

REST API — это способ взаимодействия сайтов и веб-приложений с сервером. Его также называют RESTful.

Термин состоит из двух аббревиатур, которые расшифровываются следующим образом. API (Application Programming Interface) — это код, который позволяет двум приложениям обмениваться данными с сервера. На русском языке его принято называть программным интерфейсом приложения. REST (Representational State Transfer) — это способ создания API с помощью протокола HTTP. На русском его называют «передачей состояния представления».

Технологию REST API применяют везде, где пользователю сайта или веб-приложения нужно предоставить данные с сервера. Например, при нажатии иконки с видео на видеохостинге REST API проводит операции и запускает ролик с сервера в браузере. В настоящее время это самый распространенный способ организации API. Он вытеснил ранее популярные способы SOAP и WSDL.

Сам по себе RESTful не является стандартом или протоколом. Разработчики руководствуются принципами REST API для создания эффективной работы с серверов для своих сайтов и приложений.

**Принципы REST API**

У RESTful есть [6 принципов написания кода интерфейсов](./materials/Restful.md)
Представьте, что к вам пришел заказчик с просьбой разработать приложение для внутреннего пользования сотрудниками ресторана. На первом этапе вам нужно создать БД под будущее приложение. 

**Упражнение 1.** \
Представьте, что к вам пришел заказчик с просьбой разработать приложение для внутреннего пользования сотрудниками ресторана. На первом этапе вам нужно создать БД под будущее приложение. [Заказчик приложил ТЗ](./src/chapter_2/Exercise_1.md). Рекомендации к выполнению задания, представлены в ТЗ.
### Работа с postman

“Разработка API сложна, Postman делает её лёгкой” © Postdot Technologies, Inc

Основное предназначение приложения — создание коллекций с запросами к вашему API. Любой разработчик или тестировщик, открыв коллекцию, сможет с лёгкостью разобраться в работе вашего сервиса. Ко всему прочему, Postman позволяет проектировать дизайн API и создавать на его основе Mock-сервер. Вашим разработчикам больше нет необходимости тратить время на создание "заглушек". Реализацию сервера и клиента можно запустить одновременно.

Пример запроса в postman:

<img width="721" alt="EventLoop" src="https://user-images.githubusercontent.com/48245816/170867197-d13e35ed-a54d-4735-b5e7-fbc74a9cae88.jpg">


[Скачать postman ](https://www.postman.com)

**Упражнение 2.** \
Теперь вам надо создать  сервис связав вашу БД из прошлого задания и небольшой сервер на Express который вы напишете. 
Должны обрабатываться следующие endpoints: \
`-` GET /menu - клиент может посмотреть меню и все, что в него входит. \
`-` POST /order - создать заказ. \
`-` PUT /order/id - изменить заказ. \
`-` DELETE /order/id -  закрыть заказ (для закрытия советуем не удалять запись из таблицы, а просто изменять одно из полей с true на false). \
`-` GET /order - получить все текущие заказы из ресторана. \
`-` POST /waiter -  возможность добавить нового сотрудника.

>Пожалуйста, оставьте обратную связь по проекту в [форме обратной связи.](https://forms.gle/7LpoiZmKFHYTUgrF9)
